[gd_scene load_steps=13 format=3 uid="uid://blnetwluptlbr"]

[ext_resource type="Script" path="res://Discoball.cs" id="1_fal5q"]
[ext_resource type="Texture2D" uid="uid://b66reivatjbaa" path="res://assets/circle.png" id="1_jr8cc"]
[ext_resource type="Script" path="res://ResizeAndMoveControl.cs" id="3_l22hy"]
[ext_resource type="Texture2D" uid="uid://dcx37mwlem2aw" path="res://assets/rect.png" id="4_0quic"]
[ext_resource type="Script" path="res://SaveSystem.cs" id="4_etn2d"]
[ext_resource type="Script" path="res://DiscoShape.cs" id="4_mnefn"]
[ext_resource type="Script" path="res://BpmSelector.cs" id="5_8jo58"]
[ext_resource type="Texture2D" uid="uid://do32t6sdekrco" path="res://assets/drag_anchor.png" id="6_ayom1"]
[ext_resource type="Script" path="res://DragAnchor.cs" id="7_ng4sq"]

[sub_resource type="Animation" id="Animation_bk3rn"]
resource_name = "ColorChange"
length = 0.001
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Circle")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"SetRandomColor"
}]
}

[sub_resource type="Animation" id="Animation_2h4j4"]
resource_name = "PulseDown"
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Circle/Rect:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.95, 1),
"transitions": PackedFloat32Array(1, 0.349067, 1),
"update": 0,
"values": [Vector2(0, -196), Vector2(0, 196), Vector2(0, -196)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Circle/Rect:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.95, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Circle/Rect")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"SetRandomColor"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fg2b1"]
_data = {
"ColorChange": SubResource("Animation_bk3rn"),
"PulseDown": SubResource("Animation_2h4j4")
}

[node name="App" type="Node2D"]
script = ExtResource("1_fal5q")

[node name="SaveSystem" type="Node" parent="."]
script = ExtResource("4_etn2d")

[node name="Circle" type="Sprite2D" parent="."]
clip_children = 2
texture = ExtResource("1_jr8cc")
script = ExtResource("4_mnefn")

[node name="Rect" type="Sprite2D" parent="Circle"]
position = Vector2(0, -196)
scale = Vector2(0.352, 0.0533333)
texture = ExtResource("4_0quic")
script = ExtResource("4_mnefn")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(-1.52588e-05, -1.52588e-05)

[node name="ResizeAndMoveControl" type="Node" parent="." node_paths=PackedStringArray("_saveSystem")]
script = ExtResource("3_l22hy")
_saveSystem = NodePath("../SaveSystem")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_fg2b1")
}
speed_scale = 2.0

[node name="UI" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="V" type="VBoxContainer" parent="UI"]
offset_left = -40.0
offset_top = 32.0
offset_right = 83.0
offset_bottom = 72.0

[node name="H" type="HBoxContainer" parent="UI/V"]
layout_mode = 2

[node name="Label" type="Label" parent="UI/V/H"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "BPM"

[node name="BpmSelector" type="SpinBox" parent="UI/V/H"]
layout_mode = 2
max_value = 480.0
script = ExtResource("5_8jo58")

[node name="DragAnchor" type="TextureRect" parent="UI" node_paths=PackedStringArray("_saveSystem")]
modulate = Color(0, 0, 0, 1)
offset_left = -24.0
offset_top = -24.0
offset_right = 26.0
offset_bottom = 26.0
texture = ExtResource("6_ayom1")
script = ExtResource("7_ng4sq")
_saveSystem = NodePath("../../SaveSystem")

[connection signal="value_changed" from="UI/V/H/BpmSelector" to="UI/V/H/BpmSelector" method="_OnValueChanged"]
